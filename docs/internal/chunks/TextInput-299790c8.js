import{S as G,i as H,s as U,e as E,c as T,b as d,N as p,g as R,O as b,d as m,P as V,t as W,a as w,h as j,G as z,H as A,k as q,m as K,Q as M,R as Q,v as Z,T as J}from"./vendor-40a01dac.js";function S(t,e,o){const l=t.slice();return l[15]=e[o],l[16]=e,l[17]=o,l}function N(t){let e,o,l,n=t[17],r,s;const c=()=>t[7](e,n),i=()=>t[7](null,n);function _(...f){return t[8](t[17],...f)}function g(...f){return t[9](t[17],...f)}function y(...f){return t[10](t[17],...f)}return{c(){e=E("input"),this.h()},l(f){e=T(f,"INPUT",{size:!0,maxlength:!0,class:!0,type:!0,pattern:!0}),this.h()},h(){var f;d(e,"size","1"),d(e,"maxlength","1"),d(e,"class","letter svelte-1ygbbxe"),d(e,"type","text"),d(e,"pattern","[A-Za-z]"),e.value=o=t[15].value,e.readOnly=l=t[0].readonly?"readonly":void 0,p(e,"readonly",t[0].readonly),p(e,"correct",t[15].correct),p(e,"exists",!t[15].correct&&t[15].exists),p(e,"incorrect",!((f=t[15].exists)!=null?f:!0))},m(f,h){R(f,e,h),c(),r||(s=[b(e,"keydown",_),b(e,"keyup",g),b(e,"input",y)],r=!0)},p(f,h){var v;t=f,h&1&&o!==(o=t[15].value)&&e.value!==o&&(e.value=o),h&1&&l!==(l=t[0].readonly?"readonly":void 0)&&(e.readOnly=l),n!==t[17]&&(i(),n=t[17],c()),h&1&&p(e,"readonly",t[0].readonly),h&1&&p(e,"correct",t[15].correct),h&1&&p(e,"exists",!t[15].correct&&t[15].exists),h&1&&p(e,"incorrect",!((v=t[15].exists)!=null?v:!0))},d(f){f&&m(e),i(),r=!1,V(s)}}}function B(t){let e,o,l,n;return{c(){e=E("button"),o=W("Enter"),this.h()},l(r){e=T(r,"BUTTON",{class:!0});var s=w(e);o=j(s,"Enter"),s.forEach(m),this.h()},h(){d(e,"class","enter svelte-1ygbbxe")},m(r,s){R(r,e,s),z(e,o),l||(n=b(e,"click",t[4]),l=!0)},p:A,d(r){r&&m(e),l=!1,n()}}}function X(t){let e,o,l=t[0].state,n=[];for(let s=0;s<l.length;s+=1)n[s]=N(S(t,l,s));let r=t[2]&&!t[0].readonly&&B(t);return{c(){e=E("div");for(let s=0;s<n.length;s+=1)n[s].c();o=q(),r&&r.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var c=w(e);for(let i=0;i<n.length;i+=1)n[i].l(c);o=K(c),r&&r.l(c),c.forEach(m),this.h()},h(){d(e,"class","attempt")},m(s,c){R(s,e,c);for(let i=0;i<n.length;i+=1)n[i].m(e,null);z(e,o),r&&r.m(e,null)},p(s,[c]){if(c&107){l=s[0].state;let i;for(i=0;i<l.length;i+=1){const _=S(s,l,i);n[i]?n[i].p(_,c):(n[i]=N(_),n[i].c(),n[i].m(e,o))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}s[2]&&!s[0].readonly?r?r.p(s,c):(r=B(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:A,o:A,d(s){s&&m(e),M(n,s),r&&r.d()}}}const C="ArrowLeft",I="ArrowRight",D="Backspace",O="Enter";function Y(t,e,o){let{attempt:l}=e,n=[];const r=Q();let s=!1;function c(a,u){l.readonly||[C,I,O].includes(u)||o(1,n[a].value="",n)}function i(){var a;l.readonly||(a=n[0])==null||a.focus()}function _(){r("stateSubmit",{submit:!0})}function g(a,u){if(!(l.readonly||!u)){if(u==O)return i(),_();if(u==C||u==D)return h(a);if(u==I)return f(a);s||u.length>1||!/[a-z]/i.test(u)||(r("stateChange",{index:a,letter:u,submit:!1}),f(a))}}function y(a,u){if(l.readonly||!s)return;if(u==O)return i(),r("stateChange",{index:a,letter:u,submit:!0});if(u==C||u==D)return h(a);if(u==I)return f(a);const k=(n[a].value||u).substring(-1);!k||!/[a-z]/i.test(k)||(r("stateChange",{index:a,letter:k,submit:!1}),f(a))}function f(a){n[a+1]&&n[a+1].focus()}function h(a){n[a-1]&&n[a-1].focus()}Z(()=>{o(2,s="ontouchstart"in document.documentElement),i()});function v(a,u){J[a?"unshift":"push"](()=>{n[u]=a,o(1,n)})}const F=(a,u)=>c(a,u.key),L=(a,u)=>g(a,u.key),P=(a,u)=>y(a,u.key);return t.$$set=a=>{"attempt"in a&&o(0,l=a.attempt)},[l,n,s,c,_,g,y,v,F,L,P]}class x extends G{constructor(e){super();H(this,e,Y,X,U,{attempt:0})}}export{x as T};
