import{S as G,i as H,s as U,e as E,c as T,b as d,N as p,g as R,O as b,d as m,P as V,t as W,a as w,h as j,G as z,H as A,k as q,m as K,Q as M,R as Q,v as Z,T as J}from"./vendor-40a01dac.js";function S(t,e,o){const i=t.slice();return i[15]=e[o],i[16]=e,i[17]=o,i}function N(t){let e,o,i,n=t[17],r,s;const c=()=>t[7](e,n),u=()=>t[7](null,n);function _(...f){return t[8](t[17],...f)}function g(...f){return t[9](t[17],...f)}function v(...f){return t[10](t[17],...f)}return{c(){e=E("input"),this.h()},l(f){e=T(f,"INPUT",{size:!0,maxlength:!0,class:!0,type:!0,pattern:!0}),this.h()},h(){var f;d(e,"size","1"),d(e,"maxlength","1"),d(e,"class","letter svelte-1k2v0m0"),d(e,"type","text"),d(e,"pattern","[A-Za-z]"),e.value=o=t[15].value,e.readOnly=i=t[0].readonly?"readonly":void 0,p(e,"readonly",t[0].readonly),p(e,"correct",t[15].correct),p(e,"exists",!t[15].correct&&t[15].exists),p(e,"incorrect",!((f=t[15].exists)!=null?f:!0))},m(f,h){R(f,e,h),c(),r||(s=[b(e,"keydown",_),b(e,"keyup",g),b(e,"input",v)],r=!0)},p(f,h){var y;t=f,h&1&&o!==(o=t[15].value)&&e.value!==o&&(e.value=o),h&1&&i!==(i=t[0].readonly?"readonly":void 0)&&(e.readOnly=i),n!==t[17]&&(u(),n=t[17],c()),h&1&&p(e,"readonly",t[0].readonly),h&1&&p(e,"correct",t[15].correct),h&1&&p(e,"exists",!t[15].correct&&t[15].exists),h&1&&p(e,"incorrect",!((y=t[15].exists)!=null?y:!0))},d(f){f&&m(e),u(),r=!1,V(s)}}}function B(t){let e,o,i,n;return{c(){e=E("button"),o=W("Enter")},l(r){e=T(r,"BUTTON",{});var s=w(e);o=j(s,"Enter"),s.forEach(m)},m(r,s){R(r,e,s),z(e,o),i||(n=b(e,"click",t[4]),i=!0)},p:A,d(r){r&&m(e),i=!1,n()}}}function X(t){let e,o,i=t[0].state,n=[];for(let s=0;s<i.length;s+=1)n[s]=N(S(t,i,s));let r=t[2]&&B(t);return{c(){e=E("div");for(let s=0;s<n.length;s+=1)n[s].c();o=q(),r&&r.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var c=w(e);for(let u=0;u<n.length;u+=1)n[u].l(c);o=K(c),r&&r.l(c),c.forEach(m),this.h()},h(){d(e,"class","attempt")},m(s,c){R(s,e,c);for(let u=0;u<n.length;u+=1)n[u].m(e,null);z(e,o),r&&r.m(e,null)},p(s,[c]){if(c&107){i=s[0].state;let u;for(u=0;u<i.length;u+=1){const _=S(s,i,u);n[u]?n[u].p(_,c):(n[u]=N(_),n[u].c(),n[u].m(e,o))}for(;u<n.length;u+=1)n[u].d(1);n.length=i.length}s[2]?r?r.p(s,c):(r=B(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:A,o:A,d(s){s&&m(e),M(n,s),r&&r.d()}}}const C="ArrowLeft",I="ArrowRight",D="Backspace",O="Enter";function Y(t,e,o){let{attempt:i}=e,n=[];const r=Q();let s=!1;function c(a,l){i.readonly||[C,I,O].includes(l)||o(1,n[a].value="",n)}function u(){var a;i.readonly||(a=n[0])==null||a.focus()}function _(){r("stateSubmit",{submit:!0})}function g(a,l){if(!(i.readonly||!l)){if(l==O)return u(),_();if(l==C||l==D)return h(a);if(l==I)return f(a);s||l.length>1||!/[a-z]/i.test(l)||(r("stateChange",{index:a,letter:l,submit:!1}),f(a))}}function v(a,l){if(i.readonly||!s)return;if(l==O)return u(),r("stateChange",{index:a,letter:l,submit:!0});if(l==C||l==D)return h(a);if(l==I)return f(a);const k=(n[a].value||l).substring(-1);!k||!/[a-z]/i.test(k)||(r("stateChange",{index:a,letter:k,submit:!1}),f(a))}function f(a){n[a+1]&&n[a+1].focus()}function h(a){n[a-1]&&n[a-1].focus()}Z(()=>{o(2,s="ontouchstart"in document.documentElement),u()});function y(a,l){J[a?"unshift":"push"](()=>{n[l]=a,o(1,n)})}const F=(a,l)=>c(a,l.key),L=(a,l)=>g(a,l.key),P=(a,l)=>v(a,l.key);return t.$$set=a=>{"attempt"in a&&o(0,i=a.attempt)},[i,n,s,c,_,g,v,y,F,L,P]}class x extends G{constructor(e){super();H(this,e,Y,X,U,{attempt:0})}}export{x as T};
